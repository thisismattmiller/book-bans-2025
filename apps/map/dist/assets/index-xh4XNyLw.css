*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:#f5f5f5;margin:0;padding:0;min-height:100vh;overflow:hidden}#app{position:relative;width:100vw;height:100vh;background:#fff;overflow:hidden}#map{width:100%;height:100%;display:block;transition:width .3s ease;cursor:grab}#map:active{cursor:grabbing}#app.detail-mode #map{width:33.333%}#info-panel{position:absolute;top:0;right:0;width:66.666%;height:100%;background:#fff;border-left:2px solid #ddd;overflow-y:auto;transition:transform .3s ease}#info-panel.hidden{transform:translate(100%)}.info-content{padding:40px}.info-content h2{margin-bottom:20px;color:#333;font-size:24px}.info-content h3{margin-top:20px;margin-bottom:10px;color:#555;font-size:18px}.info-content p{color:#666;line-height:1.6;margin-bottom:10px}.info-content a{color:#06c;text-decoration:none}.info-content a:hover{text-decoration:underline}#welcome-modal{position:absolute;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:3000;transition:opacity .3s ease}#welcome-modal.hidden{opacity:0;pointer-events:none}.modal-content{background:#fff;border-radius:12px;padding:40px;max-width:500px;text-align:center;box-shadow:0 8px 32px #0000004d}.modal-content h1{color:#d63031;font-size:32px;margin-bottom:20px}.modal-content p{color:#666;font-size:16px;line-height:1.6;margin-bottom:16px}.modal-instruction{font-style:italic;color:#999;font-size:14px;margin-bottom:30px}.modal-button{background:#d63031;color:#fff;border:none;border-radius:8px;padding:14px 40px;font-size:18px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #d630314d}.modal-button:hover{background:#e17055;box-shadow:0 6px 16px #d6303166;transform:translateY(-2px)}.modal-button:active{transform:translateY(0)}#loading-spinner{position:absolute;top:0;left:0;width:100%;height:100%;background:#fffffff2;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;transition:opacity .3s ease}#loading-spinner.hidden{opacity:0;pointer-events:none}.spinner{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#loading-spinner p{margin-top:20px;font-size:18px;color:#333}.map-tooltip{position:absolute;pointer-events:none;background:#fff;border:2px solid #d63031;border-radius:8px;padding:12px 16px;box-shadow:0 4px 12px #0003;z-index:2000;max-width:300px}.tooltip-title{font-size:15px;font-weight:700;color:#333;margin-bottom:4px;line-height:1.3}.tooltip-subtitle{font-size:12px;color:#666;margin-bottom:6px;font-style:italic}.tooltip-count{font-size:13px;color:#d63031;font-weight:600;margin-top:6px;padding-top:6px;border-top:1px solid #eee}.list-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.list-header>div{flex:1}.close-button{background:transparent;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s;flex-shrink:0}.close-button:hover{background:#f5f5f5;color:#333}.book-count{font-size:14px;color:#666;margin-bottom:0}.books-section{margin-top:12px}.filters{margin-bottom:15px}.filter-group{margin-bottom:8px;border:1px solid #ddd;border-radius:4px;padding:6px}.filter-group summary{cursor:pointer;font-weight:700;padding:4px;-webkit-user-select:none;user-select:none;font-size:13px}.filter-group summary:hover{background:#f5f5f5}.filter-help{font-size:11px;color:#999;font-style:italic;margin:6px 0 8px;line-height:1.4}.filter-options{margin-top:6px;max-height:120px;overflow-y:auto;font-size:12px}.filter-option{display:flex;align-items:center;padding:3px;cursor:pointer}.filter-option:hover{background:#f5f5f5}.filter-option input{margin-right:6px;flex-shrink:0}.filter-label{flex:1}.filter-count{color:#999;font-size:11px}.district-selection{padding:20px}.selection-instruction{margin-bottom:20px;color:#666;line-height:1.5}.district-choices{display:flex;flex-direction:column;gap:12px}.district-choice-button{background:#fff;border:2px solid #ddd;border-radius:8px;padding:16px 20px;cursor:pointer;text-align:left;transition:all .2s ease}.district-choice-button:hover{border-color:#d63031;background:#fff5f5;transform:translate(4px)}.district-choice-name{font-size:16px;font-weight:600;color:#333;margin-bottom:4px}.district-choice-count{font-size:14px;color:#666}.tooltip-district{font-size:12px;padding:4px 0;border-top:1px solid rgba(255,255,255,.2);margin-top:4px}.books-list{display:flex;flex-direction:column;gap:12px;margin-top:15px}.book-item{display:flex;gap:12px;border:1px solid #ddd;border-radius:6px;padding:10px;background:#fff;transition:box-shadow .2s;cursor:pointer}.book-item:hover{box-shadow:0 2px 8px #0000001a}.book-thumbnail{width:60px;height:90px;object-fit:cover;border-radius:3px;flex-shrink:0}.book-info{flex:1;min-width:0}.book-title{font-size:14px;font-weight:700;color:#333;margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.book-author{font-size:12px;color:#666;margin-bottom:6px}.book-subjects{display:flex;flex-wrap:wrap;gap:4px}.subject-tag{font-size:10px;background:#e3f2fd;color:#1976d2;padding:2px 6px;border-radius:10px;white-space:nowrap}.no-results{text-align:center;color:#999;padding:30px;font-style:italic;font-size:14px}.book-detail{padding-bottom:20px}.back-button{background:#f5f5f5;border:1px solid #ddd;border-radius:4px;padding:8px 16px;cursor:pointer;font-size:14px;margin-bottom:20px;transition:background .2s}.back-button:hover{background:#e0e0e0}.book-detail-header{display:flex;gap:20px;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #ddd}.book-detail-thumbnail{width:120px;height:180px;object-fit:cover;border-radius:6px;flex-shrink:0;box-shadow:0 2px 8px #00000026}.book-detail-title-section{flex:1}.book-detail-title-section h2{margin:0 0 10px;font-size:24px;color:#333}.book-detail-author{font-size:18px;color:#666;font-style:italic;margin:0}.book-detail-content{display:flex;flex-direction:column;gap:25px}.detail-section h3{margin:0 0 12px;font-size:16px;color:#333;border-bottom:1px solid #eee;padding-bottom:8px}.detail-section p{margin:0;line-height:1.6;color:#666}.detail-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px}.detail-item{font-size:13px;color:#666}.detail-item strong{color:#333}.bans-list{display:flex;flex-direction:column;gap:10px}.ban-item{background:#f9f9f9;border:1px solid #eee;border-radius:4px;padding:12px}.ban-location{margin-bottom:6px}.ban-location strong{font-size:14px;color:#333}.ban-state{display:inline-block;margin-left:8px;font-size:12px;color:#666;background:#e0e0e0;padding:2px 8px;border-radius:3px}.ban-details{display:flex;gap:12px;font-size:12px;color:#666}.ban-date{color:#666}.ban-status{color:#d32f2f;font-weight:500}
